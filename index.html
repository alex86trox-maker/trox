<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ACHEFOOTWEAR · Personalizador Completo</title>

    <!-- Tailwind, fuentes, iconos -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,200,0,0" rel="stylesheet">

    <!-- Config Tailwind -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: { primary: '#000', accent: '#ec4913', background: { light: '#f8f6f6', dark: '#221510' } },
                    fontFamily: { display: ['Manrope', 'sans-serif'] },
                    borderRadius: { DEFAULT: '0.25rem', lg: '0.5rem', xl: '0.75rem', full: '9999px' }
                }
            }
        };
    </script>

    <style>
        body { font-family: 'Manrope', sans-serif; -webkit-font-smoothing: antialiased; }
        .shoe-canvas-gradient { background: radial-gradient(circle at center, #fff 0%, #f3f4f6 100%); }
        .active-part { border-color: #000 !important; background-color: rgba(0,0,0,0.05) !important; }
        .active-part .material-symbols-outlined { color: #000 !important; }
        .color-option.active { border-width: 2px; border-color: #000; box-shadow: 0 0 0 4px rgba(0,0,0,0.1); }
        .color-option.disabled { opacity: 0.3; pointer-events: none; cursor: not-allowed; }
        .finish-option.active { border-color: #000 !important; background-color: rgba(0,0,0,0.05) !important; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        .dark .custom-scrollbar::-webkit-scrollbar-track { background: #2d2d2d; }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb { background: #555; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-[#1b110d] transition-colors duration-300">
    <div class="relative flex min-h-screen flex-col">

        <!-- HEADER -->
        <header class="sticky top-0 z-50 flex items-center justify-between border-b border-gray-100 bg-white/80 px-8 py-4 backdrop-blur-md dark:border-white/10 dark:bg-background-dark/80">
            <div class="flex items-center gap-3">
                <div class="text-black dark:text-white" aria-hidden="true">
                    <svg class="size-6" fill="currentColor" viewBox="0 0 48 48"><path d="M44 11.2727C44 14.0109 39.8386 16.3957 33.69 17.6364 39.8386 18.877 44 21.2618 44 24c0 2.7382-4.1614 5.123-10.31 6.3636C39.8386 31.6043 44 33.9891 44 36.7273 44 40.7439 35.0457 44 24 44s-20-3.2561-20-7.2727c0-2.7382 4.1614-5.123 10.31-6.3636C8.16144 29.123 4 26.7382 4 24c0-2.7382 4.16144-5.123 10.31-6.3636C8.16144 16.3957 4 14.0109 4 11.2727 4 7.25611 12.9543 4 24 4s20 3.25611 20 7.2727z"/></svg>
                </div>
                <h2 class="text-sm font-extrabold tracking-[0.2em] uppercase">ACHEFOOTWEAR</h2>
            </div>
        </header>

        <main class="flex flex-1 flex-col lg:flex-row">

            <!-- === VISOR DEL ZAPATO (SVG COMPLETO) === -->
            <div class="relative flex flex-1 flex-col shoe-canvas-gradient dark:bg-background-dark/50">
                <div class="absolute left-8 top-8 z-10 flex flex-wrap gap-2 text-[10px] uppercase tracking-[0.2em] font-bold">
                    <a href="#" class="text-gray-400 hover:text-black transition-colors">Colección</a>
                    <span class="text-gray-300">/</span>
                    <span class="text-black dark:text-white">Personalizador</span>
                </div>

                <div class="flex flex-1 items-center justify-center p-12">
                    <div id="shoe-container" class="relative w-full max-w-3xl transition-all duration-700 ease-out drop-shadow-[0_35px_35px_rgba(0,0,0,0.15)]" style="transform: scale(1) rotate(0deg);">
                        <!-- SVG COMPLETO (el proporcionado por el usuario) -->
                        <svg id="shoe-svg" viewBox="0 0 21000 29700" class="w-full h-auto" style="shape-rendering:geometricPrecision;" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <style type="text/css">
                                    .str0 {stroke:#2B2B2A;stroke-width:35.28}
                                    .str1 {stroke:black;stroke-width:20}
                                    .str4 {stroke:#2B2B2A;stroke-width:17.64}
                                    .str2 {stroke:#2B2B2A;stroke-width:17.64;stroke-linecap:round;stroke-linejoin:round}
                                    .str3 {stroke:#2B2B2A;stroke-width:17.64;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:35.270000 70.540000}
                                    .fil2 {fill:none}
                                    .fil3 {fill:none;fill-rule:nonzero}
                                    .fil4 {fill:black}
                                    .fil1 {fill:white}
                                    .fil0 {fill:white;fill-rule:nonzero}
                                </style>
                                <!-- Filtros (no se usan activamente) -->
                                <filter id="gamuza" x="0%" y="0%" width="100%" height="100%">
                                    <feTurbulence baseFrequency="0.03" numOctaves="1" result="turb"/>
                                    <feColorMatrix in="turb" type="saturate" values="0"/>
                                    <feBlend in="SourceGraphic" mode="soft-light" opacity="0.15"/>
                                </filter>
                                <filter id="liso" x="0%" y="0%" width="100%" height="100%">
                                    <feBlend in="SourceGraphic" mode="normal"/>
                                </filter>
                            </defs>
                            <!-- SUELA (grupos: suela_x0020_piso y suela) -->
                            <g id="suela_x0020_piso">
                                <path id="path658" class="fil0" d="M125 17115c0,0 841,1675 5063,2490 2766,534 8850,-7 8850,-7 0,0 5720,565 5954,-321l0 253c-234,886 -5954,321 -5954,321 0,0 -6084,541 -8850,7 -4222,-815 -5063,-2489 -5063,-2489 0,0 -61,-116 0,-254z"/>
                                <path id="path662" class="fil0 str0" d="M125 17115c0,0 841,1675 5063,2490 2766,534 8147,21 8850,-7 1651,30 3087,81 4304,90 949,6 1398,-55 1650,-411l0 253c-234,886 -5954,321 -5954,321 0,0 -6084,541 -8850,7 -4222,-815 -5063,-2489 -5063,-2489 0,0 -61,-116 0,-254z"/>
                            </g>
                            <g id="suela">
                                <path class="fil1 str1" d="M13618 17295c-1542,61 -2914,98 -4117,111 -533,17 -1060,27 -1582,29 -1347,14 -2526,-153 -3538,-501 -1520,-548 -2526,-1070 -3016,-1564 -483,-487 -455,-960 83,-1418 -418,55 -708,343 -870,864 -311,389 -456,1166 -434,2333 440,631 1033,1134 1781,1508 700,311 1407,552 2118,723 1231,277 2529,440 3893,486 1220,-12 2585,-55 4095,-129 1278,-159 2773,-180 4487,-62 875,26 1712,24 2512,-6 372,2 692,-129 962,-392 277,-1183 374,-1849 291,-2000 120,-185 91,-404 -88,-659 13,210 -84,341 -289,395 -508,192 -967,284 -1376,275 -465,30 -940,32 -1426,7 -1214,-54 -2376,-54 -3486,0z"/>
                                <path class="fil2 str1" d="M20284 17275c-135,170 -329,286 -582,348 -384,83 -752,138 -1104,165 -191,13 -522,3 -995,-31 -225,-8 -657,-5 -1294,10 -311,-9 -672,-27 -1084,-54 -448,-28 -1093,-28 -1934,0 -760,24 -1684,71 -2773,142 -1118,101 -2210,120 -3277,59 -1153,-81 -2373,-312 -3662,-695 -1542,-477 -2542,-1278 -3001,-2403"/>
                                <path id="SUELA_x0020_2" class="fil3 str2" d="M20282 17275c114,320 -84,499 -335,616 -234,108 -474,159 -724,197 -415,64 -752,49 -1166,7 -539,-55 -801,-78 -1344,-55 -513,21 -816,31 -1330,21 -386,-8 -772,-19 -1158,-19 -507,-1 -1012,14 -1517,36 -892,40 -1783,104 -2674,158 -893,53 -1781,93 -2676,31 -895,-63 -1771,-217 -2647,-413 -842,-187 -1766,-440 -2551,-838 -775,-394 -1567,-1011 -1686,-2041"/>
                            </g>
                            <!-- HILO SUELA -->
                            <g id="hilo_x0020_suela">
                                <path id="path706" class="fil3 str3" d="M20166 17418c1,8 2,15 2,23 1,14 0,27 -2,41 -1,6 -2,12 -3,18 -2,5 -4,11 -5,16 -4,12 -9,23 -14,33 -4,7 -8,14 -13,20 -7,11 -16,22 -25,32 -10,11 -20,22 -32,32 -12,11 -25,21 -38,31 -14,10 -29,20 -44,30 -16,9 -32,19 -49,27 -17,9 -34,18 -52,27 -18,8 -37,16 -55,24 -20,8 -39,15 -58,23 -26,9 -51,18 -77,26 -40,13 -80,25 -121,36 -40,10 -80,20 -121,30 -39,8 -79,17 -118,24 -38,7 -77,14 -115,20 -72,12 -145,21 -218,29 -68,6 -136,11 -204,14 -64,2 -129,3 -194,2 -48,0 -97,-2 -146,-4 -61,-3 -122,-7 -183,-12 -60,-5 -120,-11 -180,-17 -76,-7 -151,-15 -227,-23 -58,-6 -116,-12 -174,-17 -57,-5 -114,-10 -171,-14 -56,-4 -112,-7 -167,-9 -55,-2 -110,-4 -165,-5 -53,0 -107,0 -161,0 -53,1 -106,2 -158,4 -53,1 -105,3 -158,5 -81,3 -162,7 -243,11 -105,4 -210,8 -314,11 -53,1 -107,2 -160,3 -54,1 -108,1 -162,1 -111,1 -222,0 -332,-2 -57,-1 -114,-2 -171,-3 -43,-1 -86,-2 -130,-3 -105,-3 -209,-5 -314,-7 -130,-3 -260,-5 -390,-7 -140,-1 -281,-1 -421,-1 -155,1 -310,3 -465,6 -170,3 -341,8 -511,14 -185,7 -370,14 -555,23 -198,9 -397,20 -595,31 -105,6 -208,12 -313,18 -104,6 -208,13 -313,20 -193,12 -385,24 -578,36 -185,12 -370,24 -555,36 -82,5 -165,10 -247,15 -170,10 -340,19 -510,27 -177,9 -354,16 -530,21 -116,4 -231,6 -346,8 -93,1 -187,2 -281,2 -96,0 -192,-2 -288,-4 -100,-2 -200,-5 -299,-9 -105,-5 -209,-11 -314,-18 -111,-7 -222,-16 -333,-27 -120,-12 -240,-24 -359,-39 -132,-16 -264,-34 -395,-54 -67,-10 -134,-20 -202,-31 -70,-11 -140,-23 -210,-35 -186,-31 -373,-66 -559,-102 -85,-17 -171,-34 -256,-52 -91,-19 -182,-38 -273,-58 -96,-21 -192,-43 -287,-66 -102,-23 -202,-48 -303,-73 -106,-27 -212,-55 -317,-84 -110,-31 -220,-63 -329,-96 -113,-34 -226,-70 -339,-109 -115,-39 -231,-80 -345,-124 -117,-45 -232,-92 -347,-142 -116,-52 -230,-106 -343,-164 -56,-29 -112,-60 -168,-91 -55,-31 -110,-64 -164,-97 -54,-33 -107,-68 -160,-104 -52,-36 -103,-73 -153,-111 -50,-39 -99,-78 -147,-119 -47,-41 -94,-84 -138,-128 -45,-43 -88,-88 -129,-136 -41,-46 -81,-94 -118,-144 -37,-50 -73,-102 -106,-155 -33,-53 -64,-108 -92,-165 -40,-80 -94,-138 -122,-223 -21,-64 -46,-104 -60,-169 -16,-69 -69,-222 -78,-292"/>
                            </g>
                            <!-- CAPELLADA 2 -->
                            <g id="capellada_x0020_2">
                                <path id="path574" class="fil0 str4" d="M19433 10938c-473,637 -762,1069 -1528,1376 -672,269 -1311,295 -1997,63 -327,-111 -632,-263 -936,-426 -304,-162 -605,-328 -889,-529 -352,-249 -473,-397 -796,-681 -269,-236 -536,-415 -891,-486 -704,-142 -1371,231 -1935,536 -605,328 -1200,675 -1795,1023 -1191,695 -2377,1397 -3563,2102 76,219 301,496 496,605 200,110 546,124 754,131 1450,-63 2900,-127 4349,-191 -689,993 -1378,1986 -2067,2979 829,11 1658,14 2487,-24 414,-19 828,-45 1242,-67 415,-23 829,-39 1244,-48 414,-10 829,-23 1243,-40 415,-18 829,-20 1243,-5 1039,35 1447,76 2487,66 -496,-1082 -993,-2164 -1489,-3245 536,-223 1187,-513 1646,-909 248,-214 448,-446 595,-751 128,-267 190,-666 245,-949 -48,-176 -96,-353 -145,-530z"/>
                            </g>
                            <!-- CAPELLADA 3 -->
                            <g id="capellada_x0020_3">
                                <path class="fil1 str1" d="M16189 13651c620,1265 1219,2488 1797,3669 510,10 913,-21 1211,-93 535,-97 865,-231 990,-403 88,-1396 13,-2673 -224,-3832 -701,6 -1346,17 -1935,33 -353,170 -966,379 -1839,626z"/>
                            </g>
                            <!-- ALETA (color fijo amarillo) -->
                            <g id="aleta">
                                <path class="fil1 str1" d="M19433 10938c77,282 116,422 116,422 -68,65 -101,98 -101,98 -103,198 -154,297 -154,297 -80,-298 -120,-448 -121,-450 173,-244 260,-367 260,-367z"/>
                                <path class="fil1 str1" d="M20165 10763c-62,680 -129,1423 -202,2229 -595,10 -1240,21 -1935,33 259,-167 485,-323 676,-469 198,-146 346,-324 444,-535 200,-375 300,-563 300,-563 279,-271 518,-502 717,-695z"/>
                            </g>
                            <!-- LOGO ACHE -->
                            <g id="logo_x0020_ache">
                                <path class="fil4 str1" d="M10366 10873c-713,394 -1346,755 -1900,1085 -415,580 -631,1322 -648,2226 470,-27 854,-49 1149,-65 -33,-991 259,-1678 878,-2062 74,836 135,1529 184,2081 -465,1101 -930,2202 -1395,3302 1077,13 1981,8 2712,-16 -43,-398 -124,-1282 -243,-2653 363,-19 652,-31 867,-36 66,1603 98,2404 98,2404 -245,18 -494,35 -746,52 20,156 30,233 30,233 332,-10 499,-16 499,-16 782,-27 1610,-73 2486,-137 334,-244 596,-516 786,-817 338,-529 526,-1135 566,-1817 42,-798 -62,-1451 -311,-1960 -131,-275 -320,-532 -566,-772 -520,-281 -1111,-724 -1775,-1329 -12,414 -18,783 -21,1106 639,378 1094,855 1366,1433 168,425 241,851 219,1279 -182,1077 -647,1788 -1395,2133 -122,-3123 -183,-4685 -183,-4685 18,-645 13,-1074 -15,-1287 -331,-237 -710,-332 -1137,-284 11,765 58,1854 141,3267 -586,22 -878,33 -878,33 -93,-1425 -139,-2137 -139,-2137 587,-11 881,-16 881,-16 -2,-724 -16,-1105 -42,-1142 -395,61 -884,260 -1468,597z"/>
                            </g>
                            <!-- FORRO -->
                            <g id="forro">
                                <path class="fil1 str1" d="M5074 13244c-114,368 51,788 496,1260 2132,-1219 4104,-2367 5916,-3445 188,-117 310,-212 366,-286 308,-46 501,-213 579,-503 311,88 618,266 922,534 424,379 817,680 1180,905 483,297 984,528 1502,694 366,116 724,153 1075,111 550,-84 991,-250 1325,-496 440,-319 770,-701 991,-1146 111,-279 53,-504 -176,-674 -166,-59 -356,-20 -570,116 -492,402 -990,656 -1494,762 -516,106 -1065,115 -1650,26 -387,-63 -719,-208 -996,-436 -237,-193 -471,-407 -700,-642 -264,-281 -562,-513 -892,-697 -190,-105 -338,-184 -444,-237 -120,-369 -283,-712 -488,-1029 -115,-172 -256,-252 -424,-238 12,18 19,27 19,27 -206,199 -454,440 -745,722 -629,611 -1507,1462 -2633,2554 -912,611 -1965,1317 -3159,2118z"/>
                                <path class="fil2 str1" d="M12431 10270c-386,-113 -910,-5 -1571,323 -1748,980 -3593,2044 -5535,3193 -13,-70 -26,-140 -40,-211 1959,-1152 3756,-2195 5389,-3127 695,-389 1264,-551 1705,-486 302,33 680,241 1133,624 425,392 924,747 1497,1065 1071,547 1910,699 2517,457 492,-122 870,-564 1133,-1327"/>
                                <path class="fil2 str1" d="M12064 10227c-66,281 -145,473 -236,577"/>
                                <path class="fil2 str1" d="M12130 9949c118,-462 128,-869 27,-1220 -231,-416 -414,-709 -546,-879"/>
                                <path class="fil2 str1" d="M12489 9982c48,-366 53,-663 15,-892"/>
                            </g>
                            <!-- CAPELLADA 1 -->
                            <g id="capellada_x0020_1">
                                <path class="fil1 str1" d="M12132 13820c-786,1053 -1664,2258 -2633,3617 -862,3 -1746,-8 -2651,-35 -962,-28 -1910,-221 -2844,-579 -1096,-431 -2226,-804 -2922,-1797 -141,-352 -31,-781 366,-1074 383,-193 799,-311 1340,-331 1223,-56 2126,-272 2711,-649 -125,669 79,1032 613,1088 1901,-51 3908,-130 6020,-240z"/>
                            </g>
                            <!-- CORDONES -->
                            <g id="cordones">
                                <path id="path622" class="fil0 str4" d="M9724 9225c-26,-174 107,-313 239,-377 55,-26 108,-37 168,-34 54,3 106,14 159,32 106,37 185,103 264,181 50,49 97,102 145,153 65,68 135,129 210,185 283,214 380,249 645,493 115,105 214,221 300,355 64,101 126,203 179,311 35,71 59,150 35,232 -15,52 -46,65 -91,74 -72,16 -138,5 -208,-8 -78,-15 -152,-44 -226,-71 -42,-15 -85,-23 -129,-26 -44,-3 -87,-6 -128,-26 -51,-26 -95,-61 -142,-94 -102,-71 -199,-149 -297,-225 -214,-166 -430,-329 -632,-512 -146,-131 -456,-400 -491,-643z"/>
                                <path id="path630" class="fil0 str4" d="M8664 10274c-20,-138 84,-247 189,-297 90,-43 167,-32 256,-2 84,29 146,81 208,143 40,39 76,80 114,120 52,53 106,102 165,146 223,168 300,196 508,387 90,84 168,174 235,280 51,79 99,159 141,244 30,60 48,113 28,183 -12,41 -37,51 -72,58 -110,24 -245,-27 -341,-62 -33,-12 -67,-18 -102,-20 -34,-3 -67,-5 -100,-21 -40,-21 -75,-48 -112,-74 -80,-55 -156,-117 -233,-177 -168,-131 -338,-258 -498,-402 -114,-104 -357,-315 -386,-506z"/>
                                <path id="path638" class="fil0 str4" d="M7684 11308c20,-93 93,-161 163,-208 58,-38 112,-67 184,-65 207,6 229,184 319,310 45,62 100,113 153,167 58,58 112,119 160,187 52,72 91,146 115,234 20,71 33,142 44,215 8,57 5,105 -19,157 -14,29 -30,50 -60,62 -64,25 -158,6 -216,-17 -28,-11 -54,-25 -83,-35 -31,-11 -64,-8 -95,-14 -32,-6 -52,-26 -74,-48 -46,-44 -88,-91 -129,-140 -102,-120 -209,-236 -300,-367 -73,-104 -197,-282 -162,-438z"/>
                                <path id="path646" class="fil0 str4" d="M6698 12207c50,-140 224,-275 343,-329 68,-31 166,-46 238,-7 72,37 100,127 130,191 33,69 80,121 134,171 65,61 130,121 185,194 119,158 128,279 134,468 3,90 -21,194 -96,252 -57,43 -134,48 -198,46 -72,-3 -136,-41 -211,-35 -36,3 -69,13 -104,-14 -42,-30 -77,-67 -112,-105 -108,-121 -221,-237 -315,-373 -83,-120 -189,-288 -128,-459z"/>
                                <path id="path654" class="fil0 str4" d="M5826 12531c106,-89 304,-118 429,-112 76,4 167,29 221,96 48,59 35,143 29,207 -7,72 3,137 25,205 27,84 57,167 71,257 28,192 -23,293 -107,450 -41,79 -107,148 -197,165 -70,14 -123,-12 -182,-43 -33,-18 -61,-40 -88,-65 -25,-23 -47,-49 -79,-65 -33,-16 -70,-19 -93,-59 -23,-41 -33,-85 -45,-130 -36,-148 -79,-314 -94,-466 -15,-147 -23,-329 110,-440z"/>
                            </g>
                            <!-- HILO (costuras generales) -->
                            <g id="hilo">
                                <path id="path718" class="fil3 str3" d="M14235 17131c62,-53 124,-106 186,-160 60,-54 120,-108 179,-164 48,-47 96,-95 142,-143 39,-42 77,-85 114,-129 42,-50 82,-102 120,-156 25,-35 50,-72 73,-109 25,-39 48,-79 70,-119 20,-36 39,-73 58,-110 17,-34 33,-69 48,-104 15,-32 28,-64 42,-96 12,-30 24,-60 35,-90 11,-27 21,-55 31,-83 16,-45 31,-90 45,-136 12,-41 25,-82 36,-124 9,-35 18,-71 27,-106 7,-31 14,-62 21,-93 5,-26 10,-53 15,-79 6,-29 11,-58 16,-87 3,-16 5,-31 8,-47 5,-31 9,-61 14,-92 2,-16 4,-32 6,-47 2,-16 4,-32 5,-48 4,-32 7,-65 9,-97 2,-33 4,-65 4,-98 2,-33 2,-66 2,-99 1,-43 1,-86 1,-130 0,-50 1,-100 1,-151 1,-44 1,-88 1,-132 0,-40 0,-81 -1,-122 -1,-37 -3,-75 -5,-113 -2,-33 -4,-66 -7,-100 -2,-29 -5,-58 -8,-87 -3,-26 -6,-52 -10,-78 -4,-26 -8,-51 -13,-77 -4,-21 -8,-41 -12,-61 -7,-33 -15,-66 -23,-98 -10,-39 -20,-77 -31,-115 -9,-31 -18,-63 -28,-94 -11,-35 -21,-69 -32,-104 -13,-38 -25,-75 -39,-113 -11,-31 -23,-62 -35,-93 -9,-24 -20,-49 -30,-73 -14,-34 -29,-66 -44,-99 -7,-16 -15,-32 -22,-48 -8,-16 -16,-32 -24,-47 -10,-19 -20,-38 -31,-56 -4,-8 -9,-16 -14,-24 -5,-8 -10,-16 -16,-24 -6,-10 -13,-20 -20,-29 -9,-13 -19,-25 -29,-37 -13,-17 -27,-34 -40,-51 -21,-24 -41,-48 -61,-72 -29,-34 -59,-68 -88,-102 -18,-21 -36,-42 -55,-62 -42,-49 -85,-98 -128,-147 -57,-32 -114,-64 -171,-98 -34,-19 -67,-38 -100,-58 -27,-16 -54,-32 -81,-48 -26,-16 -51,-32 -77,-48 -56,-35 -110,-71 -164,-107 -34,-23 -67,-46 -99,-69 -31,-21 -61,-43 -91,-66 -28,-21 -56,-42 -84,-64 -26,-20 -52,-41 -78,-61 -46,-37 -91,-74 -135,-112 -20,-18 -40,-35 -59,-53 -20,-17 -40,-35 -59,-52 -35,-32 -70,-64 -105,-96 -32,-29 -63,-58 -95,-86 -40,-36 -79,-72 -120,-106 -33,-29 -67,-58 -102,-85 -20,-16 -41,-32 -62,-48 -36,-27 -73,-53 -111,-78 -37,-25 -76,-48 -115,-70 -38,-21 -78,-41 -117,-59 -20,-9 -40,-17 -60,-25 -21,-8 -41,-16 -62,-23 -21,-7 -42,-14 -63,-21 -20,-6 -40,-11 -60,-17 -18,-5 -37,-9 -55,-13 -17,-4 -34,-7 -51,-10 -17,-3 -34,-6 -50,-8 -18,-2 -35,-4 -53,-6 -18,-1 -37,-3 -55,-4 -18,-1 -37,-1 -55,-2 -19,0 -37,0 -55,0 -19,0 -38,1 -57,3 -22,1 -43,3 -65,5 -25,3 -50,6 -74,10 -29,5 -58,10 -86,16 -32,6 -64,13 -96,21 -35,8 -69,17 -104,27 -18,5 -35,10 -53,16 -17,5 -35,11 -53,17 -35,11 -70,23 -105,36 -35,13 -70,26 -104,40 -35,14 -70,29 -104,44 -36,16 -71,32 -106,48 -53,25 -105,51 -157,77 -57,28 -113,57 -169,87 -47,25 -94,49 -141,75 -53,27 -104,55 -156,83 -116,63 -233,127 -348,192 -69,38 -138,77 -206,116 -84,47 -168,95 -252,143 -120,69 -240,138 -360,207 -95,56 -190,111 -286,166 -135,80 -271,158 -406,237 -45,67 -88,136 -128,207 -44,78 -85,158 -124,240 -37,81 -72,163 -104,247 -32,83 -61,167 -87,252 -26,84 -50,170 -70,256 -11,44 -20,88 -29,132 -9,46 -17,91 -24,136 -8,48 -14,95 -20,143 -6,50 -11,101 -15,152 -5,59 -8,120 -11,180 289,-17 577,-33 866,-50 0,-44 2,-88 3,-132 2,-36 4,-73 6,-109 2,-31 5,-62 8,-93 3,-27 5,-53 9,-80 3,-24 6,-48 9,-71 6,-40 12,-80 19,-120 5,-29 10,-57 16,-85 5,-30 11,-61 18,-91 11,-53 24,-105 38,-157 7,-24 14,-48 22,-72 7,-23 15,-46 23,-68 16,-44 34,-88 53,-131 9,-21 19,-43 29,-63 10,-21 20,-42 30,-63 11,-20 21,-41 32,-61 11,-21 22,-41 34,-62 11,-19 23,-39 35,-58 6,-11 13,-21 20,-32 15,-23 31,-45 48,-67 19,-26 40,-51 62,-75 28,-31 57,-60 88,-88 19,-18 39,-35 58,-52 25,-20 49,-40 74,-59 31,-24 62,-47 93,-70 39,-29 78,-57 117,-84 68,-48 136,-95 204,-143 7,86 15,172 23,258 53,608 107,1217 161,1825"/>
                                <path id="path690" class="fil3 str3" d="M9174 17108c681,-934 1361,-1869 2041,-2803 -136,6 -272,11 -408,17 -104,5 -209,10 -313,14 -99,5 -198,9 -297,14 -112,5 -225,11 -337,16 -82,5 -165,9 -248,13 -71,4 -143,8 -215,12 -99,6 -198,12 -297,18 -162,10 -324,20 -486,29 -53,3 -106,6 -159,9 -68,4 -137,8 -205,11 -64,4 -128,6 -193,9 -66,3 -131,6 -197,8 -60,2 -119,5 -179,6 -71,3 -143,5 -214,8 -28,1 -57,2 -85,3 -39,1 -78,2 -117,4 -46,2 -92,4 -138,5 -62,3 -123,6 -184,9 -56,2 -112,5 -167,7 -76,3 -151,6 -226,7 -37,1 -73,2 -110,2 -38,0 -75,0 -113,-1 -39,-1 -78,-2 -116,-4 -41,-2 -81,-5 -121,-10 -42,-4 -83,-10 -124,-17 -43,-7 -85,-16 -127,-27 -39,-10 -78,-22 -117,-36 -31,-11 -61,-24 -91,-38 -46,-21 -90,-45 -132,-73 -23,-15 -45,-31 -67,-48 -43,-34 -83,-71 -120,-112 -19,-20 -36,-42 -53,-64 -17,-22 -33,-46 -48,-70 -15,-23 -30,-48 -43,-73 -13,-27 -25,-53 -36,-80 -13,-30 -24,-61 -34,-93 -13,-40 -23,-81 -31,-123 -11,-52 -17,-105 -21,-158 -5,-67 -5,-134 -1,-200"/>
                                <path id="path698" class="fil3 str3" d="M5157 14061c-54,22 -107,44 -160,68 -56,25 -113,51 -169,77 -59,29 -118,58 -177,87 -62,31 -123,63 -184,96 -128,68 -255,140 -380,215 -131,79 -260,161 -386,247 -129,87 -256,179 -380,275 -62,48 -123,97 -183,147 -60,50 -119,101 -177,153 -58,52 -114,105 -169,159 -54,53 -107,108 -159,164 -51,55 -100,111 -147,169 -47,56 -92,114 -135,173"/>
                                <path id="path694" class="fil3 str3" d="M9290 17202c744,-1021 1488,-2043 2231,-3064 -192,7 -384,15 -577,23 -89,4 -177,8 -266,12 -70,3 -140,6 -209,9 -141,7 -281,13 -421,20 -113,5 -226,11 -339,17 -71,4 -142,7 -213,11 -89,6 -177,11 -266,16 -144,9 -289,17 -433,26 -86,5 -172,11 -258,16 -45,2 -90,5 -135,7 -71,4 -142,8 -212,11 -70,3 -140,6 -210,9 -73,3 -145,6 -218,9 -37,1 -74,2 -111,3 -68,3 -135,5 -202,7 -49,2 -99,4 -149,6 -69,2 -139,5 -208,8 -22,1 -45,2 -67,2 -58,3 -116,6 -175,9 -33,1 -67,2 -101,4 -40,2 -80,3 -119,4 -39,1 -77,3 -116,3 -39,1 -79,1 -118,1 -41,0 -81,-1 -121,-2 -41,-2 -82,-4 -124,-7 -41,-4 -83,-8 -125,-15 -43,-6 -85,-14 -128,-24 -40,-9 -80,-21 -119,-35 -29,-10 -58,-21 -86,-34 -43,-20 -85,-43 -124,-69 -21,-14 -41,-28 -60,-44 -19,-16 -38,-32 -56,-49 -19,-18 -36,-37 -53,-56 -16,-20 -32,-40 -47,-62 -15,-21 -29,-43 -42,-66 -13,-23 -25,-46 -36,-70 -11,-26 -22,-52 -31,-79 -12,-35 -23,-71 -31,-108 -11,-48 -18,-98 -22,-147 -6,-65 -6,-130 -2,-194"/>
                                <path id="path702" class="fil3 str3" d="M5104 13916c-840,347 -2156,1105 -2869,2080"/>
                                <path id="path710" class="fil3 str3" d="M18062 17166c-558,-1139 -1116,-2279 -1674,-3418 135,-42 271,-84 407,-127 88,-27 176,-55 265,-83 87,-29 176,-57 263,-86 71,-23 142,-47 213,-72 42,-14 84,-29 126,-45 52,-19 104,-38 155,-58 44,-18 89,-36 133,-54 39,-17 78,-35 117,-53 69,-32 137,-66 204,-103"/>
                                <path id="path682" class="fil3 str3" d="M18322 17023c-504,-1028 -1007,-2056 -1511,-3084 101,-31 201,-62 300,-94 54,-17 107,-34 160,-51 50,-16 99,-33 148,-49 44,-14 88,-29 132,-44 41,-14 81,-28 122,-42 59,-21 117,-42 176,-64 56,-22 113,-44 169,-67 46,-20 93,-40 138,-61 77,-35 153,-72 228,-112 79,-43 156,-88 231,-136 36,-23 71,-46 106,-70 65,-45 129,-93 190,-143"/>
                                <path id="path686" class="fil3 str3" d="M18192 17094c-531,-1083 -1061,-2167 -1592,-3250 95,-30 191,-60 286,-90 53,-16 106,-33 159,-50 72,-23 143,-46 215,-69 65,-21 130,-42 195,-64 52,-18 104,-36 155,-54 79,-27 157,-55 234,-86 74,-28 147,-58 219,-90 42,-19 84,-38 126,-59 57,-28 113,-57 169,-88 50,-27 100,-57 150,-87"/>
                                <polygon id="path726" class="fil3 str3" points="10943,14596 12110,14540 12221,17257 11188,17329 "/>
                                <polygon id="path678" class="fil3 str3" points="12043,11233 12166,13660 10998,13704 10839,11254 "/>
                                <path id="path722" class="fil3 str3" d="M13097 11526c66,45 130,91 195,137 51,37 101,74 152,111 39,30 79,59 118,90 32,24 63,48 94,73 25,21 50,41 76,62 20,17 41,35 62,53 33,29 65,59 97,89 26,25 52,50 77,75 26,27 52,54 77,81 19,21 37,43 56,65 17,20 34,40 50,61 22,28 44,57 65,86 27,37 53,75 78,113 24,36 47,73 69,110 11,18 22,36 33,55 10,18 21,36 31,55 20,37 39,75 58,114 19,39 37,79 53,120 9,21 17,42 25,63 8,22 16,44 23,66 14,42 27,85 40,128 14,49 27,100 38,151 8,33 16,67 22,100 11,54 21,108 29,163 4,27 8,53 11,80 4,27 7,53 10,79 4,41 8,82 11,124 3,45 6,90 7,135 1,30 2,59 2,89 0,36 0,72 -2,109 -2,33 -4,67 -8,100 -2,16 -4,33 -7,49 -2,15 -4,32 -7,47 -6,32 -12,63 -19,94 -7,31 -14,62 -22,92 -8,31 -16,61 -25,92 -4,15 -8,31 -13,46 -4,16 -9,31 -14,47 -10,33 -21,66 -32,99 -12,35 -25,71 -38,106 -7,19 -14,38 -22,57 -8,20 -16,39 -24,59 -18,41 -36,82 -55,123 -10,20 -20,42 -31,63 -10,21 -21,42 -32,63 -17,35 -36,69 -55,103 -22,41 -45,81 -69,121 -16,28 -33,56 -51,83 -24,37 -47,73 -73,108 -24,34 -50,68 -77,101 -27,34 -55,66 -85,98 -30,32 -61,64 -93,95 -34,32 -68,63 -103,94 -27,24 -55,47 -82,69 -18,15 -36,29 -55,43 -20,16 -41,32 -62,46 -25,18 -52,35 -78,51 -35,21 -70,40 -106,59 -23,12 -46,23 -69,34 -29,13 -57,26 -85,38 -65,28 -129,56 -194,85 -70,-1790 -140,-3580 -210,-5370 80,56 160,112 239,168z"/>
                            </g>
                        </svg>
                    </div>
                </div>

                <!-- BARRA DE HERRAMIENTAS -->
                <div class="absolute bottom-8 left-1/2 flex -translate-x-1/2 items-center gap-6 rounded-full border border-gray-100 bg-white/50 px-6 py-3 shadow-xl backdrop-blur-lg dark:border-white/5 dark:bg-white/5">
                    <button id="rotateBtn" aria-label="Rotar 360°" class="flex flex-col items-center gap-1 text-[10px] font-bold uppercase tracking-tighter text-gray-400 hover:text-black transition-colors">
                        <span class="material-symbols-outlined">rotate_right</span>
                        <span id="rotateLabel">360°</span>
                    </button>
                    <div class="h-6 w-px bg-gray-200 dark:bg-white/10"></div>
                    <button id="zoomBtn" aria-label="Zoom" class="flex flex-col items-center gap-1 text-[10px] font-bold uppercase tracking-tighter text-gray-400 hover:text-black transition-colors">
                        <span class="material-symbols-outlined">zoom_in</span>
                        Detalles
                    </button>
                </div>
            </div>

            <!-- === PANEL DE PERSONALIZACIÓN === -->
            <aside class="flex w-full flex-col border-l border-gray-100 bg-white dark:border-white/5 dark:bg-background-dark lg:w-[480px]">
                <div class="flex h-full flex-col">
                    <div class="p-8 pb-4">
                        <h1 class="text-2xl font-light tracking-tight dark:text-white">PERSONALIZAR ACHEFOOTWEAR</h1>
                        <p class="mt-1 text-xs font-medium uppercase tracking-[0.1em] text-gray-400">Hecho a mano · 8 componentes · 13 colores</p>
                    </div>

                    <div class="flex-1 overflow-y-auto px-8 py-4 custom-scrollbar">
                        <!-- 01 – SELECCIÓN DE COMPONENTE -->
                        <div class="mb-10">
                            <span class="text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400">01 — Seleccionar Componente</span>
                            <div class="mt-4 grid grid-cols-2 gap-2" id="partSelector">
                                <button data-part="suela" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">grid_view</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Suela</span>
                                </button>
                                <button data-part="hilo" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">polyline</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Hilo</span>
                                </button>
                                <button data-part="cordones" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">horizontal_rule</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Cordones</span>
                                </button>
                                <button data-part="forro" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">padding</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Forro</span>
                                </button>
                                <button data-part="logo" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">tag</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Logo</span>
                                </button>
                                <button data-part="capellada1" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">texture</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Capellada 1</span>
                                </button>
                                <button data-part="capellada2" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">texture</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Capellada 2</span>
                                </button>
                                <button data-part="capellada3" class="part-btn flex items-center gap-3 rounded-lg border border-gray-100 p-3 text-left hover:border-gray-200 dark:border-white/5 transition-all">
                                    <span class="material-symbols-outlined text-gray-400">texture</span>
                                    <span class="text-xs font-bold uppercase tracking-wide text-gray-500">Capellada 3</span>
                                </button>
                            </div>
                        </div>

                        <!-- 02 – COLORES (13 colores) -->
                        <div class="mb-10">
                            <span class="text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400">02 — Material y Color</span>
                            <div class="mt-4 flex flex-wrap gap-4" id="colorSelector">
                                <!-- Blanco -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#ffffff" data-color-name="Blanco">
                                    <span class="h-8 w-8 rounded-full bg-white shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Blanco</span>
                                </button>
                                <!-- Negro -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#000000" data-color-name="Negro">
                                    <span class="h-8 w-8 rounded-full bg-black shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Negro</span>
                                </button>
                                <!-- Gris -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#6B7280" data-color-name="Gris">
                                    <span class="h-8 w-8 rounded-full bg-[#6B7280] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Gris</span>
                                </button>
                                <!-- Café -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#8B4513" data-color-name="Café">
                                    <span class="h-8 w-8 rounded-full bg-[#8B4513] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Café</span>
                                </button>
                                <!-- Verde Cali -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#8BC34A" data-color-name="Verde Cali">
                                    <span class="h-8 w-8 rounded-full bg-[#8BC34A] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Verde Cali</span>
                                </button>
                                <!-- Verde Aguamarina -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#66CDAA" data-color-name="Verde Aguamarina">
                                    <span class="h-8 w-8 rounded-full bg-[#66CDAA] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Verde Agua</span>
                                </button>
                                <!-- Rojo -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#FF0000" data-color-name="Rojo">
                                    <span class="h-8 w-8 rounded-full bg-[#FF0000] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Rojo</span>
                                </button>
                                <!-- Amarillo -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#FFEB3B" data-color-name="Amarillo">
                                    <span class="h-8 w-8 rounded-full bg-[#FFEB3B] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Amarillo</span>
                                </button>
                                <!-- Azul Rey -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#4169E1" data-color-name="Azul Rey">
                                    <span class="h-8 w-8 rounded-full bg-[#4169E1] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Azul Rey</span>
                                </button>
                                <!-- Azul Aguamarina -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#00CED1" data-color-name="Azul Aguamarina">
                                    <span class="h-8 w-8 rounded-full bg-[#00CED1] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Azul Agua</span>
                                </button>
                                <!-- Morado -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#9C27B0" data-color-name="Morado">
                                    <span class="h-8 w-8 rounded-full bg-[#9C27B0] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Morado</span>
                                </button>
                                <!-- Vino Tinto -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#800020" data-color-name="Vino Tinto">
                                    <span class="h-8 w-8 rounded-full bg-[#800020] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Vino Tinto</span>
                                </button>
                                <!-- Beige -->
                                <button class="color-option relative flex h-12 w-12 items-center justify-center rounded-full border border-gray-100 hover:border-gray-300 dark:border-white/10 transition-all" data-color="#F5F5DC" data-color-name="Beige">
                                    <span class="h-8 w-8 rounded-full bg-[#F5F5DC] shadow-inner"></span>
                                    <span class="absolute -bottom-6 opacity-0 group-hover:opacity-100 transition-opacity text-[8px] uppercase tracking-widest font-bold">Beige</span>
                                </button>
                            </div>
                        </div>

                        <!-- 03 – ACABADO DE CUERO (sin efecto visual) -->
                        <div class="mb-10">
                            <span class="text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400">03 — Acabado de Cuero</span>
                            <div class="mt-4 space-y-3" id="finishSelector">
                                <button data-finish="smooth" class="finish-option active flex items-center justify-between rounded-xl border border-gray-100 p-4 w-full hover:border-gray-300 dark:border-white/5 transition-all">
                                    <div>
                                        <p class="text-xs font-bold uppercase tracking-tight">Cuero Liso</p>
                                        <p class="text-[10px] text-gray-400">Acabado clásico</p>
                                    </div>
                                    <div class="h-4 w-4 rounded-full border-4 border-black"></div>
                                </button>
                                <button data-finish="suede" class="finish-option flex items-center justify-between rounded-xl border border-gray-100 p-4 w-full hover:border-gray-300 dark:border-white/5 transition-all">
                                    <div>
                                        <p class="text-xs font-bold uppercase tracking-tight">Cuero Gamuzado</p>
                                        <p class="text-[10px] text-gray-400">Textura aterciopelada</p>
                                    </div>
                                    <div class="h-4 w-4 rounded-full border border-gray-300"></div>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- PRECIO Y BOTÓN COMPRAR -->
                    <div class="border-t border-gray-100 p-8 dark:border-white/5">
                        <div class="mb-6 flex items-end justify-between">
                            <div>
                                <p class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Precio Total</p>
                                <p class="text-3xl font-light tracking-tighter dark:text-white">180.000</p>
                            </div>
                            <div class="text-right">
                                <p class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Envío</p>
                                <p class="text-xs font-medium dark:text-gray-300">Gratuito</p>
                            </div>
                        </div>
                        <button class="w-full rounded-lg py-4 text-xs font-extrabold uppercase tracking-[0.2em] text-white shadow-lg transition-all hover:scale-[1.02] active:scale-[0.98]" style="background-color: #32CD32;">
                            COMPRAR
                        </button>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <!-- Fondo decorativo -->
    <div class="pointer-events-none fixed -bottom-24 -left-24 -z-10 select-none opacity-[0.02]">
        <h1 class="text-[20vw] font-black uppercase leading-none tracking-tighter">ACHE</h1>
    </div>

    <!-- ========== SCRIPT PRINCIPAL (con correcciones) ========== -->
    <script>
        (function() {
            "use strict";

            // --- ESTADO GLOBAL ---
            const STATE = {
                activePart: 'suela',
                colors: {
                    suela: '#ffffff',
                    hilo: '#ffffff',
                    cordones: '#ffffff',
                    forro: '#ffffff',
                    logo: '#000000',
                    capellada1: '#ffffff',
                    capellada2: '#ffffff',
                    capellada3: '#ffffff'
                },
                finish: 'smooth'
            };

            // Colores permitidos para la suela (blanco, negro, gris, café)
            const SOLE_ALLOWED_COLORS = ['#ffffff', '#000000', '#6B7280', '#8B4513'];
            // Colores permitidos para el forro (blanco y negro)
            const FORRO_ALLOWED_COLORS = ['#ffffff', '#000000'];

            // --- MAPA DE COLORES -> TRAZOS (13 colores) ---
            const STROKE_MAP = {
                '#ffffff': { str: '#000000', str0: '#2B2B2A', str4: '#2B2B2A', str3: '#2B2B2A', str2: '#2B2B2A' },
                '#000000': { str: '#000000', str0: '#1a1a1a', str4: '#1a1a1a', str3: '#1a1a1a', str2: '#1a1a1a' },
                '#6B7280': { str: '#4B5563', str0: '#4B5563', str4: '#4B5563', str3: '#4B5563', str2: '#4B5563' },
                '#8B4513': { str: '#5a2c0c', str0: '#5a2c0c', str4: '#5a2c0c', str3: '#5a2c0c', str2: '#5a2c0c' },
                '#8BC34A': { str: '#5a8f2e', str0: '#5a8f2e', str4: '#5a8f2e', str3: '#5a8f2e', str2: '#5a8f2e' },
                '#66CDAA': { str: '#3c9b7a', str0: '#3c9b7a', str4: '#3c9b7a', str3: '#3c9b7a', str2: '#3c9b7a' },
                '#FF0000': { str: '#b30000', str0: '#b30000', str4: '#b30000', str3: '#b30000', str2: '#b30000' },
                '#FFEB3B': { str: '#c7a600', str0: '#c7a600', str4: '#c7a600', str3: '#c7a600', str2: '#c7a600' },
                '#4169E1': { str: '#1e3f9e', str0: '#1e3f9e', str4: '#1e3f9e', str3: '#1e3f9e', str2: '#1e3f9e' },
                '#00CED1': { str: '#008b8e', str0: '#008b8e', str4: '#008b8e', str3: '#008b8e', str2: '#008b8e' },
                '#9C27B0': { str: '#6a1b7a', str0: '#6a1b7a', str4: '#6a1b7a', str3: '#6a1b7a', str2: '#6a1b7a' },
                '#800020': { str: '#4d0013', str0: '#4d0013', str4: '#4d0013', str3: '#4d0013', str2: '#4d0013' },
                '#F5F5DC': { str: '#c5c5a3', str0: '#c5c5a3', str4: '#c5c5a3', str3: '#c5c5a3', str2: '#c5c5a3' }
            };

            // --- FUNCIONES DE ACTUALIZACIÓN POR COMPONENTE ---
            const UPDATERS = {
                suela: function(color) {
                    const stroke0 = STROKE_MAP[color]?.str0 || '#2B2B2A';
                    const stroke1 = STROKE_MAP[color]?.str || '#000000';
                    const groups = ['#suela_x0020_piso', '#suela'];
                    groups.forEach(id => {
                        const g = document.querySelector(id);
                        if (g) {
                            g.querySelectorAll('.fil0, .fil1').forEach(el => el.style.fill = color);
                            g.querySelectorAll('.str0').forEach(el => el.style.stroke = stroke0);
                            g.querySelectorAll('.str1').forEach(el => el.style.stroke = stroke1);
                        }
                    });
                    STATE.colors.suela = color;
                },
                hilo: function(color) {
                    const stroke = STROKE_MAP[color]?.str3 || '#2B2B2A';
                    const groups = ['#hilo_x0020_suela', '#hilo'];
                    groups.forEach(id => {
                        const g = document.querySelector(id);
                        if (g) {
                            g.querySelectorAll('.str3').forEach(el => el.style.stroke = stroke);
                        }
                    });
                    STATE.colors.hilo = color;
                },
                cordones: function(color) {
                    const stroke = STROKE_MAP[color]?.str4 || '#2B2B2A';
                    const group = document.querySelector('#cordones');
                    if (group) {
                        group.querySelectorAll('.fil0').forEach(el => el.style.fill = color);
                        group.querySelectorAll('.str4').forEach(el => el.style.stroke = stroke);
                    }
                    STATE.colors.cordones = color;
                },
                forro: function(color) {
                    const stroke = STROKE_MAP[color]?.str || '#000000';
                    const group = document.querySelector('#forro');
                    if (group) {
                        group.querySelectorAll('.fil1').forEach(el => el.style.fill = color);
                        group.querySelectorAll('.str1').forEach(el => el.style.stroke = stroke);
                    }
                    STATE.colors.forro = color;
                },
                logo: function(color) {
                    const stroke = STROKE_MAP[color]?.str || '#000000';
                    const group = document.querySelector('#logo_x0020_ache');
                    if (group) {
                        group.querySelectorAll('.fil4').forEach(el => el.style.fill = color);
                        group.querySelectorAll('.str1').forEach(el => el.style.stroke = stroke);
                    }
                    STATE.colors.logo = color;
                },
                capellada1: function(color) {
                    const stroke = STROKE_MAP[color]?.str || '#000000';
                    const groups = ['#capellada_x0020_1'];
                    groups.forEach(id => {
                        const g = document.querySelector(id);
                        if (g) {
                            g.querySelectorAll('.fil1').forEach(el => el.style.fill = color);
                            g.querySelectorAll('.str1').forEach(el => el.style.stroke = stroke);
                        }
                    });
                    STATE.colors.capellada1 = color;
                },
                capellada2: function(color) {
                    const stroke = STROKE_MAP[color]?.str4 || '#2B2B2A';
                    const group = document.querySelector('#capellada_x0020_2');
                    if (group) {
                        group.querySelectorAll('.fil0').forEach(el => el.style.fill = color);
                        group.querySelectorAll('.str4').forEach(el => el.style.stroke = stroke);
                    }
                    STATE.colors.capellada2 = color;
                },
                capellada3: function(color) {
                    const stroke = STROKE_MAP[color]?.str || '#000000';
                    const group = document.querySelector('#capellada_x0020_3');
                    if (group) {
                        group.querySelectorAll('.fil1').forEach(el => el.style.fill = color);
                        group.querySelectorAll('.str1').forEach(el => el.style.stroke = stroke);
                    }
                    STATE.colors.capellada3 = color;
                }
            };

            // --- FIJAR COLOR DE ALETA (amarillo) ---
            function setAletaFixedColor() {
                const aletaGroup = document.querySelector('#aleta');
                if (aletaGroup) {
                    aletaGroup.querySelectorAll('.fil1').forEach(el => el.style.fill = '#FFD700');
                    aletaGroup.querySelectorAll('.str1').forEach(el => el.style.stroke = '#b8860b');
                }
            }

            // --- GESTIÓN DE COLORES HABILITADOS POR PARTE ---
            function updateColorOptionsForPart(part) {
                document.querySelectorAll('.color-option').forEach(btn => {
                    const color = btn.dataset.color;
                    if (part === 'suela') {
                        if (SOLE_ALLOWED_COLORS.includes(color)) {
                            btn.classList.remove('disabled');
                        } else {
                            btn.classList.add('disabled');
                        }
                    } else if (part === 'forro') {
                        if (FORRO_ALLOWED_COLORS.includes(color)) {
                            btn.classList.remove('disabled');
                        } else {
                            btn.classList.add('disabled');
                        }
                    } else {
                        btn.classList.remove('disabled');
                    }
                });
            }

            // --- CAMBIO DE PARTE ACTIVA (UI) ---
            function setActivePart(part) {
                STATE.activePart = part;
                document.querySelectorAll('.part-btn').forEach(btn => {
                    const btnPart = btn.dataset.part;
                    if (btnPart === part) {
                        btn.classList.add('active-part', 'border-black');
                        btn.classList.remove('border-gray-100');
                        btn.querySelector('.material-symbols-outlined')?.classList.remove('text-gray-400');
                        btn.querySelector('.material-symbols-outlined')?.classList.add('text-black');
                        btn.querySelector('span:not(.material-symbols-outlined)')?.classList.remove('text-gray-500');
                        btn.querySelector('span:not(.material-symbols-outlined)')?.classList.add('text-black');
                    } else {
                        btn.classList.remove('active-part', 'border-black');
                        btn.classList.add('border-gray-100');
                        btn.querySelector('.material-symbols-outlined')?.classList.remove('text-black');
                        btn.querySelector('.material-symbols-outlined')?.classList.add('text-gray-400');
                        btn.querySelector('span:not(.material-symbols-outlined)')?.classList.remove('text-black');
                        btn.querySelector('span:not(.material-symbols-outlined)')?.classList.add('text-gray-500');
                    }
                });

                updateColorOptionsForPart(part);

                const currentColor = STATE.colors[part] || '#ffffff';
                const colorBtn = document.querySelector(`.color-option[data-color="${currentColor}"]`);
                if (colorBtn && !colorBtn.classList.contains('disabled')) {
                    setActiveColor(colorBtn, false);
                } else {
                    // Si el color actual no está permitido, seleccionar el primer color permitido
                    if (part === 'suela' || part === 'forro') {
                        const allowed = part === 'suela' ? SOLE_ALLOWED_COLORS : FORRO_ALLOWED_COLORS;
                        const firstAllowed = document.querySelector(`.color-option[data-color="${allowed[0]}"]`);
                        if (firstAllowed) setActiveColor(firstAllowed, true);
                    }
                }
            }

            // --- ACTIVAR COLOR EN PALETA ---
            function setActiveColor(button, applyColor = true) {
                if (button.classList.contains('disabled')) return;

                document.querySelectorAll('.color-option').forEach(btn => {
                    btn.classList.remove('active', 'border-2', 'border-black', 'ring-4', 'ring-black/10');
                    btn.classList.add('border', 'border-gray-100');
                });
                button.classList.add('active', 'border-2', 'border-black', 'ring-4', 'ring-black/10');
                button.classList.remove('border', 'border-gray-100');

                if (applyColor) {
                    const color = button.dataset.color;
                    const part = STATE.activePart;
                    if (UPDATERS[part]) UPDATERS[part](color);
                }
            }

            // --- ACTIVAR ACABADO EN UI (sin cambios en SVG) ---
            function setActiveFinish(finish) {
                document.querySelectorAll('.finish-option').forEach(btn => {
                    const btnFinish = btn.dataset.finish;
                    if (btnFinish === finish) {
                        btn.classList.add('active', 'border-black');
                        btn.classList.remove('border-gray-100');
                        btn.querySelector('div:last-child')?.classList.remove('border-gray-300');
                        btn.querySelector('div:last-child')?.classList.add('border-4', 'border-black');
                    } else {
                        btn.classList.remove('active', 'border-black');
                        btn.classList.add('border-gray-100');
                        btn.querySelector('div:last-child')?.classList.remove('border-4', 'border-black');
                        btn.querySelector('div:last-child')?.classList.add('border', 'border-gray-300');
                    }
                });
            }

            // --- INICIALIZACIÓN ---
            document.addEventListener('DOMContentLoaded', function() {
                setAletaFixedColor();

                document.getElementById('partSelector')?.addEventListener('click', (e) => {
                    const btn = e.target.closest('.part-btn');
                    if (btn) { e.preventDefault(); setActivePart(btn.dataset.part); }
                });

                document.getElementById('colorSelector')?.addEventListener('click', (e) => {
                    const btn = e.target.closest('.color-option');
                    if (btn) { e.preventDefault(); setActiveColor(btn, true); }
                });

                document.getElementById('finishSelector')?.addEventListener('click', (e) => {
                    const btn = e.target.closest('.finish-option');
                    if (btn) {
                        e.preventDefault();
                        const finish = btn.dataset.finish;
                        setActiveFinish(finish);
                    }
                });

                // Rotación
                const rotateBtn = document.getElementById('rotateBtn');
                const rotateLabel = document.getElementById('rotateLabel');
                let rotation = 0;
                if (rotateBtn) {
                    rotateBtn.addEventListener('click', () => {
                        rotation = (rotation + 90) % 360;
                        const container = document.getElementById('shoe-container');
                        if (container) {
                            const currentScale = container.style.transform.match(/scale\(([^)]+)\)/);
                            const scale = currentScale ? currentScale[1] : '1';
                            container.style.transform = `scale(${scale}) rotate(${rotation}deg)`;
                        }
                        if (rotateLabel) rotateLabel.textContent = rotation === 0 ? '360°' : `${rotation}°`;
                    });
                }

                // Zoom
                const zoomBtn = document.getElementById('zoomBtn');
                let zoomLevel = 1;
                if (zoomBtn) {
                    zoomBtn.addEventListener('click', () => {
                        zoomLevel = zoomLevel === 1 ? 1.5 : 1;
                        const container = document.getElementById('shoe-container');
                        if (container) {
                            const currentRotate = container.style.transform.match(/rotate\(([^)]+)\)/);
                            const rotate = currentRotate ? currentRotate[1] : '0deg';
                            container.style.transform = `scale(${zoomLevel}) rotate(${rotate})`;
                        }
                        const icon = zoomBtn.querySelector('.material-symbols-outlined');
                        if (icon) icon.textContent = zoomLevel === 1 ? 'zoom_in' : 'zoom_out';
                    });
                }

                // Colores iniciales
                setActivePart('suela');
                Object.entries(STATE.colors).forEach(([part, color]) => {
                    if (UPDATERS[part]) UPDATERS[part](color);
                });
                const defaultColorBtn = document.querySelector('.color-option[data-color="#ffffff"]');
                if (defaultColorBtn) setActiveColor(defaultColorBtn, false);

                // Acabado inicial
                setActiveFinish('smooth');
            });
        })();
    </script>
</body>
</html>
